import{Q as i,u as p,a as f,b as m,j as a,F as l,c as e,L as g,r as b,O as x}from"./index-bc72abee.js";import{s as v,a as c,p as N,b as w,o as I,d as A,c as C,e as y,f as O}from"./dbMethods-6a56efb4.js";import{H as S,U as L,C as j,A as k,a as R}from"./index-f175ed81.js";const U=async()=>{try{await v(c,N)}catch(t){i.error(t.message)}},H=async t=>{try{await w(c),t("/")}catch(n){i.error(n.message)}},E=()=>{const t=p(),{pathname:n}=f(),{user:s}=m();return a(l,{children:[a("header",{className:"flex flex-col gap-4 items-center py-8 md:flex-row md:justify-between",children:[e("h2",{className:"text-3xl md:text-4xl font-black",children:e(g,{to:"/",children:"#Moto Rent"})}),a("nav",{className:"flex gap-2 flex-col items-center justify-center sm:flex-row flex-wrap",children:[a("button",{className:"nav-btn",onClick:()=>t("/"),children:[e(S,{}),"Home"]}),a("button",{className:"nav-btn",onClick:()=>t("/admin"),children:[e(L,{}),"Admin"]}),a("button",{className:"nav-btn",children:[e(j,{})," WhatsApp"]})]})]}),n.slice(1)==="admin"&&e(l,{children:s?a("div",{className:"flex flex-col gap-4 items-center pb-8 md:flex-row md:justify-between",children:[a("div",{className:"flex gap-2 items-center",children:[s.photoURL&&e("img",{src:s.photoURL,className:"w-8 rounded-full"}),s.email]}),a("button",{className:"nav-btn",onClick:()=>H(t),children:[e(k,{})," Sign Out"]})]}):a("button",{className:"nav-btn w-max",onClick:U,children:[e(R,{})," Sign In"]})})]})},q=()=>{const{setUser:t,setItems:n}=m();return b.useEffect(()=>{const s=I(c,r=>{r?(t(r),O(r)):t(void 0)}),d=A(C("motos")),u=y(d,r=>{const o=[];r.forEach(h=>o.push(h.data())),n(o)});return()=>{s(),u()}},[]),a("div",{className:"app-wrapper",children:[e("img",{className:"app-bg",alt:"",src:"/rent-moto/assets/hero.svg"}),e(E,{}),e(x,{}),e("footer",{className:"mt-auto pb-8",children:a("div",{className:"footer",children:["Â© ",new Date().getFullYear(),", All rights reserved"]})})]})};export{q as default};
