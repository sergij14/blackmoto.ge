import{r as u,u as H,j as l,a as m,L as I,b as T,O as U,Q as W}from"./index-4b1e9aa4.js";import{o as Y,d as q,c as F,a as Q,s as X,b as _,e as z}from"./dbMethods-89f90c93.js";import{B as G,H as J,U as K,C as P}from"./index-76d3d162.js";function w(t,e,o){var n,c,s,i,f;e==null&&(e=100);function r(){var d=Date.now()-i;d<e&&d>=0?n=setTimeout(r,e-d):(n=null,o||(f=t.apply(s,c),s=c=null))}var h=function(){s=this,c=arguments,i=Date.now();var d=o&&!n;return n||(n=setTimeout(r,e)),d&&(f=t.apply(s,c),s=c=null),f};return h.clear=function(){n&&(clearTimeout(n),n=null)},h.flush=function(){n&&(f=t.apply(s,c),s=c=null,clearTimeout(n),n=null)},h}w.debounce=w;var C=w;function V(t){let{debounce:e,scroll:o,polyfill:n,offsetSize:c}=t===void 0?{debounce:0,scroll:!1,offsetSize:!1}:t;const s=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[i,f]=u.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),r=u.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:i}),h=e?typeof e=="number"?e:e.scroll:null,d=e?typeof e=="number"?e:e.resize:null,p=u.useRef(!1);u.useEffect(()=>(p.current=!0,()=>void(p.current=!1)));const[O,x,b]=u.useMemo(()=>{const a=()=>{if(!r.current.element)return;const{left:S,top:B,width:R,height:k,bottom:M,right:A,x:j,y:D}=r.current.element.getBoundingClientRect(),v={left:S,top:B,width:R,height:k,bottom:M,right:A,x:j,y:D};r.current.element instanceof HTMLElement&&c&&(v.height=r.current.element.offsetHeight,v.width=r.current.element.offsetWidth),Object.freeze(v),p.current&&!te(r.current.lastBounds,v)&&f(r.current.lastBounds=v)};return[a,d?C(a,d):a,h?C(a,h):a]},[f,c,h,d]);function g(){r.current.scrollContainers&&(r.current.scrollContainers.forEach(a=>a.removeEventListener("scroll",b,!0)),r.current.scrollContainers=null),r.current.resizeObserver&&(r.current.resizeObserver.disconnect(),r.current.resizeObserver=null)}function E(){r.current.element&&(r.current.resizeObserver=new s(b),r.current.resizeObserver.observe(r.current.element),o&&r.current.scrollContainers&&r.current.scrollContainers.forEach(a=>a.addEventListener("scroll",b,{capture:!0,passive:!0})))}const L=a=>{!a||a===r.current.element||(g(),r.current.element=a,r.current.scrollContainers=y(a),E())};return $(b,!!o),Z(x),u.useEffect(()=>{g(),E()},[o,b,x]),u.useEffect(()=>g,[]),[L,i,O]}function Z(t){u.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function $(t,e){u.useEffect(()=>{if(e){const o=t;return window.addEventListener("scroll",o,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",o,!0)}},[t,e])}function y(t){const e=[];if(!t||t===document.body)return e;const{overflow:o,overflowX:n,overflowY:c}=window.getComputedStyle(t);return[o,n,c].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,...y(t.parentElement)]}const ee=["x","y","top","bottom","left","right","width","height"],te=(t,e)=>ee.every(o=>t[o]===e[o]),N=({navigate:t})=>m("div",{className:"flex gap-2 flex-col md:flex-row",children:[m("button",{className:"nav-btn",onClick:()=>t("/"),children:[l(J,{}),"Home"]}),m("button",{className:"nav-btn",onClick:()=>t("/admin"),children:[l(K,{}),"Admin"]}),m("button",{className:"nav-btn",children:[l(P,{})," WhatsApp"]})]}),re=()=>{const t=H(),[e,o]=u.useState(!1),[n,c]=V();return l("header",{ref:n,className:"fixed top-0 w-full bg-black bg-opacity-90 z-50",children:l("div",{className:"max-w-screen-xl px-8 mx-auto",children:m("div",{className:"flex flex-col gap-4 items-center py-8 sm:flex-row sm:justify-between relative",children:[l("h2",{className:"text-3xl md:text-4xl font-black",children:l(I,{to:"/",children:"#Moto Rent"})}),l("div",{className:"md:hidden",children:m("button",{className:"nav-btn",onClick:()=>o(!e),children:[l(G,{}),"Menu"]})}),l("div",{className:"hidden md:block",children:l(N,{navigate:t})}),e&&l("div",{className:"absolute bg-black left-1/2 sm:left-[initial] sm:right-0 sm:transform-none transform -translate-x-1/2 p-4 md:hidden",style:{top:c.height},children:l(N,{navigate:t})})]})})})},se="sergi.jajanidze@gmail.com,mixo.ushba@gmail.com".split(","),ae=()=>{const{setUser:t,setItems:e}=T();return u.useEffect(()=>{const o=Y(z,s=>{const i=s==null?void 0:s.email;if(i&&!se.includes(i)){X(z),W.error("You have no access");return}s?(t(s),_(s)):t(void 0)}),n=q(F("motos")),c=Q(n,s=>{const i=[];s.forEach(f=>i.push(f.data())),e(i)});return()=>{o(),c()}},[]),m("div",{className:"app-wrapper",children:[l(re,{}),m("div",{className:"container",children:[l("img",{className:"app-bg",alt:"",src:"/assets/hero.svg"}),l(U,{}),l("footer",{className:"mt-auto pb-8",children:m("div",{className:"footer",children:["Â© ",new Date().getFullYear(),", All rights reserved"]})})]})]})};export{ae as default};
