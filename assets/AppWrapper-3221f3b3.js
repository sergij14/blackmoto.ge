import{Q as l,u as f,a as g,b as m,j as a,F as i,c as e,L as b,r as x,O as v}from"./index-4764155d.js";import{s as N,a as o,p as w,b as d,o as A,d as I,c as C,e as S,f as j}from"./dbMethods-a179d988.js";import{H as y,U as L,C as O,A as U,a as k}from"./index-f28896d3.js";const E=async()=>{try{await N(o,w)}catch(t){l.error(t.message)}},R=async t=>{try{await d(o),t("/")}catch(c){l.error(c.message)}},H=()=>{const t=f(),{pathname:c}=g(),{user:n}=m();return a(i,{children:[a("header",{className:"flex flex-col gap-4 items-center py-8 md:flex-row md:justify-between",children:[e("h2",{className:"text-3xl md:text-4xl font-black",children:e(b,{to:"/",children:"#Moto Rent"})}),a("nav",{className:"flex gap-2 flex-col items-center justify-center sm:flex-row flex-wrap",children:[a("button",{className:"nav-btn",onClick:()=>t("/"),children:[e(y,{}),"Home"]}),a("button",{className:"nav-btn",onClick:()=>t("/admin"),children:[e(L,{}),"Admin"]}),a("button",{className:"nav-btn",children:[e(O,{})," WhatsApp"]})]})]}),c.slice(1)==="admin"&&e(i,{children:n?a("div",{className:"flex flex-col gap-4 items-center pb-8 md:flex-row md:justify-between",children:[a("div",{className:"flex gap-2 items-center",children:[n.photoURL&&e("img",{src:n.photoURL,className:"w-8 rounded-full"}),n.email]}),a("button",{className:"nav-btn",onClick:()=>R(t),children:[e(U,{})," Sign Out"]})]}):a("button",{className:"nav-btn w-max",onClick:E,children:[e(k,{})," Sign In"]})})]})},D="sergi.jajanidze@gmail.com,mixo.ushba@gmail.com".split(","),Y=()=>{const{setUser:t,setItems:c}=m();return x.useEffect(()=>{const n=A(o,s=>{const r=s==null?void 0:s.email;if(r&&!D.includes(r)){d(o),l.error("You have no access");return}s?(t(s),j(s)):t(void 0)}),h=I(C("motos")),u=S(h,s=>{const r=[];s.forEach(p=>r.push(p.data())),c(r)});return()=>{n(),u()}},[]),a("div",{className:"app-wrapper",children:[e("img",{className:"app-bg",alt:"",src:"/rent-moto/assets/hero.svg"}),e(H,{}),e(v,{}),e("footer",{className:"mt-auto pb-8",children:a("div",{className:"footer",children:["Â© ",new Date().getFullYear(),", All rights reserved"]})})]})};export{Y as default};
