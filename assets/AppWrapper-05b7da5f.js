import{r as u,u as p,j as c,F as A,a as h,b as I,L as U,O as Y,Q as $}from"./index-a8b7bd18.js";import{o as F,d as W,c as q,a as G,s as P,b as Q,e as N}from"./dbMethods-8713bc6e.js";import{B as X}from"./index-5330a62e.js";import{u as y}from"./index-fc9e29e6.js";function E(n,e,r){var s,l,o,m,d;e==null&&(e=100);function t(){var f=Date.now()-m;f<e&&f>=0?s=setTimeout(t,e-f):(s=null,r||(d=n.apply(o,l),o=l=null))}var i=function(){o=this,l=arguments,m=Date.now();var f=r&&!s;return s||(s=setTimeout(t,e)),f&&(d=n.apply(o,l),o=l=null),d};return i.clear=function(){s&&(clearTimeout(s),s=null)},i.flush=function(){s&&(d=n.apply(o,l),o=l=null,clearTimeout(s),s=null)},i}E.debounce=E;var C=E;function J(n){let{debounce:e,scroll:r,polyfill:s,offsetSize:l}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const o=s||(typeof window>"u"?class{}:window.ResizeObserver);if(!o)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[m,d]=u.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),t=u.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:m}),i=e?typeof e=="number"?e:e.scroll:null,f=e?typeof e=="number"?e:e.resize:null,g=u.useRef(!1);u.useEffect(()=>(g.current=!0,()=>void(g.current=!1)));const[O,x,v]=u.useMemo(()=>{const a=()=>{if(!t.current.element)return;const{left:B,top:T,width:R,height:H,bottom:M,right:j,x:D,y:_}=t.current.element.getBoundingClientRect(),b={left:B,top:T,width:R,height:H,bottom:M,right:j,x:D,y:_};t.current.element instanceof HTMLElement&&l&&(b.height=t.current.element.offsetHeight,b.width=t.current.element.offsetWidth),Object.freeze(b),g.current&&!ee(t.current.lastBounds,b)&&d(t.current.lastBounds=b)};return[a,f?C(a,f):a,i?C(a,i):a]},[d,l,i,f]);function w(){t.current.scrollContainers&&(t.current.scrollContainers.forEach(a=>a.removeEventListener("scroll",v,!0)),t.current.scrollContainers=null),t.current.resizeObserver&&(t.current.resizeObserver.disconnect(),t.current.resizeObserver=null)}function z(){t.current.element&&(t.current.resizeObserver=new o(v),t.current.resizeObserver.observe(t.current.element),r&&t.current.scrollContainers&&t.current.scrollContainers.forEach(a=>a.addEventListener("scroll",v,{capture:!0,passive:!0})))}const k=a=>{!a||a===t.current.element||(w(),t.current.element=a,t.current.scrollContainers=S(a),z())};return V(v,!!r),K(x),u.useEffect(()=>{w(),z()},[r,v,x]),u.useEffect(()=>w,[]),[k,m,O]}function K(n){u.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function V(n,e){u.useEffect(()=>{if(e){const r=n;return window.addEventListener("scroll",r,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",r,!0)}},[n,e])}function S(n){const e=[];if(!n||n===document.body)return e;const{overflow:r,overflowX:s,overflowY:l}=window.getComputedStyle(n);return[r,s,l].some(o=>o==="auto"||o==="scroll")&&e.push(n),[...e,...S(n.parentElement)]}const Z=["x","y","top","bottom","left","right","width","height"],ee=(n,e)=>Z.every(r=>n[r]===e[r]),te=[{label:"RU",code:"ru"}],ne=()=>{const{setLang:n,lang:e}=p();return c(A,{children:te.map(({code:r,label:s})=>h("button",{onClick:()=>n(r),className:`nav-btn bg-opacity-100 ${r===e?"opacity-100":"opacity-70"}`,children:[c("img",{className:"w-5",src:`/assets/${r}.svg`}),s]},r))})},L=({navigate:n})=>{const{t:e}=y(),{headerHeight:r}=p(),s=l=>{const o=document.getElementById("section_"+l);if(o&&r){const m=o.offsetTop;window.scrollTo({top:m-(r+120),behavior:"smooth"})}o||n("/")};return h("div",{className:"flex gap-2 flex-col md:flex-row md:items-start",children:[c("button",{onClick:()=>s("about"),className:"nav-btn",children:e("nav.menu_1")}),c("button",{onClick:()=>s("motopark"),className:"nav-btn",children:e("nav.menu_2")}),c("button",{onClick:()=>s("terms"),className:"nav-btn",children:e("nav.menu_3").split(" ")[0]}),c("button",{onClick:()=>s("contact"),className:"nav-btn",children:e("nav.menu_4")}),c(ne,{})]})},re=()=>{const n=I(),{setHeaderHeight:e}=p(),[r,s]=u.useState(!1),[l,o]=J(),[m,d]=u.useState("static"),t=i=>{window.scrollY>=o.height?d("fixed"):d("static")};return u.useEffect(()=>(e(o.height),window.addEventListener("scroll",t),()=>{window.removeEventListener("scroll",t)}),[o.height]),y(),c("header",{ref:l,className:`${m} top-0 w-full bg-back-secondary bg-opacity-90 z-50`,children:c("div",{className:"max-w-screen-xl px-8 mx-auto",children:h("div",{className:"flex flex-col gap-4 flex-wrap items-center py-8 relative sm:flex-row sm:justify-between",children:[c("h2",{className:"text-3xl text-primary",children:c(U,{to:"/",children:"#BlackMoto.GE"})}),c("div",{className:"md:hidden",children:c("button",{className:"nav-btn",onClick:()=>s(!r),children:c(X,{})})}),c("div",{className:"hidden md:block",children:c(L,{navigate:n})}),r&&c("div",{className:"vertical-nav",style:{top:o.height+20},children:c("div",{className:"vertical-nav-inner",children:c(L,{navigate:n})})})]})})})},se="sergi.jajanidze@gmail.com,mixo.ushba@gmail.com".split(","),ue=()=>{const{setUser:n,setItems:e,lang:r}=p();u.useEffect(()=>{const o=F(N,t=>{const i=t==null?void 0:t.email;if(i&&!se.includes(i)){P(N),$.error("You have no access");return}t?(n(t),Q(t)):n(void 0)}),m=W(q("motos")),d=G(m,t=>{const i=[];t.forEach(f=>i.push(f.data())),e(i)});return()=>{o(),d()}},[]);const s=r==="ge"?"font-ge":"font-ru",{t:l}=y();return h("div",{className:`app-wrapper ${s}`,children:[c(re,{}),h("div",{className:"container",children:[c("div",{className:"mt-8",children:c(Y,{})}),c("footer",{className:"mt-auto pb-8",children:h("div",{className:"footer",children:["Â© ",new Date().getFullYear(),", ",l("terms.copyright")]})})]})]})};export{ue as default};
