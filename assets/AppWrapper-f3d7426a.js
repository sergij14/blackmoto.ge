import{Q as o,u as p,a as f,b as i,j as e,c as a,L as g,F as b,r as x,O as v}from"./index-dc1f6d56.js";import{s as N,a as l,p as w,b as m,o as A,d as I,c as y,e as C,f as S}from"./dbMethods-35ae0d7d.js";import{H as j,U as k,C as L,A as O,a as U}from"./index-6c1d9453.js";const E=async()=>{try{await N(l,w)}catch(s){o.error(s.message)}},R=async s=>{try{await m(l),s("/")}catch(c){o.error(c.message)}},H=()=>{const s=p(),{pathname:c}=f(),{user:n}=i();return e("header",{className:"sticky top-0 w-full bg-black bg-opacity-90 z-50",children:a("div",{className:"max-w-screen-xl px-8 mx-auto ",children:[a("div",{className:"flex flex-col gap-4 items-center py-8 md:flex-row md:justify-between",children:[e("h2",{className:"text-3xl md:text-4xl font-black",children:e(g,{to:"/",children:"#Moto Rent"})}),a("nav",{className:"flex gap-2 flex-col items-center justify-center sm:flex-row flex-wrap",children:[a("button",{className:"nav-btn",onClick:()=>s("/"),children:[e(j,{}),"Home"]}),a("button",{className:"nav-btn",onClick:()=>s("/admin"),children:[e(k,{}),"Admin"]}),a("button",{className:"nav-btn",children:[e(L,{})," WhatsApp"]})]})]}),c.slice(1)==="admin"&&e(b,{children:n?a("div",{className:"flex flex-col gap-4 items-center pb-8 md:flex-row md:justify-between",children:[a("div",{className:"flex gap-2 items-center",children:[n.photoURL&&e("img",{src:n.photoURL,className:"w-8 rounded-full"}),n.email]}),a("button",{className:"nav-btn",onClick:()=>R(s),children:[e(O,{})," Sign Out"]})]}):a("button",{className:"nav-btn w-max",onClick:E,children:[e(U,{})," Sign In"]})})]})})},D="sergi.jajanidze@gmail.com,mixo.ushba@gmail.com".split(","),M=()=>{const{setUser:s,setItems:c}=i();return x.useEffect(()=>{const n=A(l,t=>{const r=t==null?void 0:t.email;if(r&&!D.includes(r)){m(l),o.error("You have no access");return}t?(s(t),S(t)):s(void 0)}),d=I(y("motos")),h=C(d,t=>{const r=[];t.forEach(u=>r.push(u.data())),c(r)});return()=>{n(),h()}},[]),a("div",{className:"app-wrapper",children:[e(H,{}),a("div",{className:"container",children:[e("img",{className:"app-bg",alt:"",src:"/assets/hero.svg"}),e(v,{}),e("footer",{className:"mt-auto pb-8",children:a("div",{className:"footer",children:["Â© ",new Date().getFullYear(),", All rights reserved"]})})]})]})};export{M as default};
