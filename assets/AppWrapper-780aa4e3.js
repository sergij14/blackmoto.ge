import{r as u,u as D,a as y,j as d,b as l,L as I,O as U,Q as W}from"./index-414022c0.js";import{o as Y,d as q,c as F,a as G,s as Q,b as X,e as N}from"./dbMethods-fee852a8.js";import{B as _,H as $,U as J,C as K}from"./index-abf2d3f2.js";function w(t,e,n){var o,c,r,i,f;e==null&&(e=100);function s(){var m=Date.now()-i;m<e&&m>=0?o=setTimeout(s,e-m):(o=null,n||(f=t.apply(r,c),r=c=null))}var h=function(){r=this,c=arguments,i=Date.now();var m=n&&!o;return o||(o=setTimeout(s,e)),m&&(f=t.apply(r,c),r=c=null),f};return h.clear=function(){o&&(clearTimeout(o),o=null)},h.flush=function(){o&&(f=t.apply(r,c),r=c=null,clearTimeout(o),o=null)},h}w.debounce=w;var C=w;function P(t){let{debounce:e,scroll:n,polyfill:o,offsetSize:c}=t===void 0?{debounce:0,scroll:!1,offsetSize:!1}:t;const r=o||(typeof window>"u"?class{}:window.ResizeObserver);if(!r)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[i,f]=u.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),s=u.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:i}),h=e?typeof e=="number"?e:e.scroll:null,m=e?typeof e=="number"?e:e.resize:null,p=u.useRef(!1);u.useEffect(()=>(p.current=!0,()=>void(p.current=!1)));const[L,x,v]=u.useMemo(()=>{const a=()=>{if(!s.current.element)return;const{left:k,top:R,width:B,height:M,bottom:T,right:A,x:H,y:j}=s.current.element.getBoundingClientRect(),b={left:k,top:R,width:B,height:M,bottom:T,right:A,x:H,y:j};s.current.element instanceof HTMLElement&&c&&(b.height=s.current.element.offsetHeight,b.width=s.current.element.offsetWidth),Object.freeze(b),p.current&&!te(s.current.lastBounds,b)&&f(s.current.lastBounds=b)};return[a,m?C(a,m):a,h?C(a,h):a]},[f,c,h,m]);function g(){s.current.scrollContainers&&(s.current.scrollContainers.forEach(a=>a.removeEventListener("scroll",v,!0)),s.current.scrollContainers=null),s.current.resizeObserver&&(s.current.resizeObserver.disconnect(),s.current.resizeObserver=null)}function E(){s.current.element&&(s.current.resizeObserver=new r(v),s.current.resizeObserver.observe(s.current.element),n&&s.current.scrollContainers&&s.current.scrollContainers.forEach(a=>a.addEventListener("scroll",v,{capture:!0,passive:!0})))}const S=a=>{!a||a===s.current.element||(g(),s.current.element=a,s.current.scrollContainers=O(a),E())};return Z(v,!!n),V(x),u.useEffect(()=>{g(),E()},[n,v,x]),u.useEffect(()=>g,[]),[S,i,L]}function V(t){u.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function Z(t,e){u.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function O(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:o,overflowY:c}=window.getComputedStyle(t);return[n,o,c].some(r=>r==="auto"||r==="scroll")&&e.push(t),[...e,...O(t.parentElement)]}const ee=["x","y","top","bottom","left","right","width","height"],te=(t,e)=>ee.every(n=>t[n]===e[n]),z=({navigate:t})=>d("div",{className:"flex gap-2 flex-col md:flex-row",children:[d("button",{className:"nav-btn",onClick:()=>t("/"),children:[l($,{}),"Home"]}),d("button",{className:"nav-btn",onClick:()=>t("/admin"),children:[l(J,{}),"Admin"]}),d("button",{className:"nav-btn",children:[l(K,{})," WhatsApp"]})]}),se=()=>{const t=D(),{setLang:e}=y(),[n,o]=u.useState(!1),[c,r]=P(),[i,f]=u.useState("static"),s=h=>{window.scrollY>=r.height?f("fixed"):f("static")};return u.useEffect(()=>(window.addEventListener("scroll",s),()=>{window.removeEventListener("scroll",s)}),[r.height]),d("header",{ref:c,className:`${i} top-0 w-full bg-black bg-opacity-90 z-50`,children:[l("div",{className:"fixed bottom-0 m-8 left-0",children:d("div",{className:"flex gap-2 items-center",children:[d("button",{onClick:()=>e("ru"),className:"nav-btn px-3 py-2 gap-2",children:[l("img",{className:"w-6",src:"/assets/ru.svg"}),"RU"]}),d("button",{onClick:()=>e("ge"),className:"nav-btn px-3 py-2 gap-2",children:[l("img",{className:"w-5",src:"/assets/ge.svg"}),"GE"]})]})}),l("div",{className:"max-w-screen-xl px-8 mx-auto",children:d("div",{className:"flex flex-col gap-4 items-center py-8 sm:flex-row sm:justify-between relative",children:[l("h2",{className:"text-3xl md:text-4xl font-black",children:l(I,{to:"/",children:"#Moto Rent"})}),l("div",{className:"md:hidden",children:d("button",{className:"nav-btn",onClick:()=>o(!n),children:[l(_,{}),"Menu"]})}),l("div",{className:"hidden md:block",children:l(z,{navigate:t})}),n&&l("div",{className:"absolute bg-black left-1/2 sm:left-[initial] sm:right-0 sm:transform-none transform -translate-x-1/2 p-4 md:hidden",style:{top:r.height},children:l(z,{navigate:t})})]})})]})},re="sergi.jajanidze@gmail.com,mixo.ushba@gmail.com".split(","),ae=()=>{const{setUser:t,setItems:e}=y();return u.useEffect(()=>{const n=Y(N,r=>{const i=r==null?void 0:r.email;if(i&&!re.includes(i)){Q(N),W.error("You have no access");return}r?(t(r),X(r)):t(void 0)}),o=q(F("motos")),c=G(o,r=>{const i=[];r.forEach(f=>i.push(f.data())),e(i)});return()=>{n(),c()}},[]),d("div",{className:"app-wrapper",children:[l(se,{}),d("div",{className:"container",children:[l("img",{className:"app-bg",alt:"",src:"/assets/hero.svg"}),l(U,{}),l("footer",{className:"mt-auto pb-8",children:d("div",{className:"footer",children:["Â© ",new Date().getFullYear(),", All rights reserved"]})})]})]})};export{ae as default};
