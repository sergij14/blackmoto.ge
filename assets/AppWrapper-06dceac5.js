import{r as u,j as h,a as o,u as L,b as A,L as H,O as U,Q as Y}from"./index-c8248c9e.js";import{o as $,d as W,c as q,a as F,s as G,b as Q,e as N}from"./dbMethods-fe8011fd.js";import{B as V}from"./index-4a34ab66.js";import{u as x}from"./index-1ac2913d.js";function w(n,e,s){var r,l,c,m,f;e==null&&(e=100);function t(){var d=Date.now()-m;d<e&&d>=0?r=setTimeout(t,e-d):(r=null,s||(f=n.apply(c,l),c=l=null))}var i=function(){c=this,l=arguments,m=Date.now();var d=s&&!r;return r||(r=setTimeout(t,e)),d&&(f=n.apply(c,l),c=l=null),f};return i.clear=function(){r&&(clearTimeout(r),r=null)},i.flush=function(){r&&(f=n.apply(c,l),c=l=null,clearTimeout(r),r=null)},i}w.debounce=w;var z=w;function X(n){let{debounce:e,scroll:s,polyfill:r,offsetSize:l}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const c=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!c)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[m,f]=u.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),t=u.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:m}),i=e?typeof e=="number"?e:e.scroll:null,d=e?typeof e=="number"?e:e.resize:null,p=u.useRef(!1);u.useEffect(()=>(p.current=!0,()=>void(p.current=!1)));const[O,E,v]=u.useMemo(()=>{const a=()=>{if(!t.current.element)return;const{left:B,top:R,width:T,height:M,bottom:j,right:D,x:I,y:_}=t.current.element.getBoundingClientRect(),b={left:B,top:R,width:T,height:M,bottom:j,right:D,x:I,y:_};t.current.element instanceof HTMLElement&&l&&(b.height=t.current.element.offsetHeight,b.width=t.current.element.offsetWidth),Object.freeze(b),p.current&&!Z(t.current.lastBounds,b)&&f(t.current.lastBounds=b)};return[a,d?z(a,d):a,i?z(a,i):a]},[f,l,i,d]);function g(){t.current.scrollContainers&&(t.current.scrollContainers.forEach(a=>a.removeEventListener("scroll",v,!0)),t.current.scrollContainers=null),t.current.resizeObserver&&(t.current.resizeObserver.disconnect(),t.current.resizeObserver=null)}function y(){t.current.element&&(t.current.resizeObserver=new c(v),t.current.resizeObserver.observe(t.current.element),s&&t.current.scrollContainers&&t.current.scrollContainers.forEach(a=>a.addEventListener("scroll",v,{capture:!0,passive:!0})))}const k=a=>{!a||a===t.current.element||(g(),t.current.element=a,t.current.scrollContainers=S(a),y())};return K(v,!!s),J(E),u.useEffect(()=>{g(),y()},[s,v,E]),u.useEffect(()=>g,[]),[k,m,O]}function J(n){u.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function K(n,e){u.useEffect(()=>{if(e){const s=n;return window.addEventListener("scroll",s,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",s,!0)}},[n,e])}function S(n){const e=[];if(!n||n===document.body)return e;const{overflow:s,overflowX:r,overflowY:l}=window.getComputedStyle(n);return[s,r,l].some(c=>c==="auto"||c==="scroll")&&e.push(n),[...e,...S(n.parentElement)]}const P=["x","y","top","bottom","left","right","width","height"],Z=(n,e)=>P.every(s=>n[s]===e[s]),C=({navigate:n})=>{const{t:e}=x(),s=r=>{const l=document.getElementById("section_"+r);l?l.scrollIntoView({behavior:"smooth"}):n("/")};return h("div",{className:"flex gap-2 flex-col md:flex-row md:items-start",children:[o("button",{onClick:()=>s("about"),className:"nav-btn",children:e("nav.menu_1")}),o("button",{onClick:()=>s("motopark"),className:"nav-btn",children:e("nav.menu_2")}),o("button",{onClick:()=>s("terms"),className:"nav-btn",children:e("nav.menu_3").split(" ")[0]}),o("button",{onClick:()=>s("contact"),className:"nav-btn",children:e("nav.menu_4")})]})},ee=[{label:"RU",code:"ru"}],te=()=>{const{setLang:n,lang:e}=L();return o("div",{className:"fixed bottom-0 m-8 left-0",children:o("div",{className:"flex gap-2 items-center",children:ee.map(({code:s,label:r})=>h("button",{onClick:()=>n(s),className:`nav-btn px-3 py-2 gap-2 bg-opacity-100 ${s===e?"opacity-100":"opacity-70"}`,children:[o("img",{className:"w-5",src:`/assets/${s}.svg`}),r]},s))})})},ne=()=>{const n=A(),[e,s]=u.useState(!1),[r,l]=X(),[c,m]=u.useState("static"),f=t=>{window.scrollY>=l.height?m("fixed"):m("static")};return u.useEffect(()=>(window.addEventListener("scroll",f),()=>{window.removeEventListener("scroll",f)}),[l.height]),x(),h("header",{ref:r,className:`${c} top-0 w-full bg-black bg-opacity-90 z-50`,children:[o(te,{}),o("div",{className:"max-w-screen-xl px-8 mx-auto",children:h("div",{className:"flex flex-col gap-4 items-center py-8 sm:flex-row sm:justify-between relative",children:[o("h2",{className:"text-3xl text-primary",children:o(H,{to:"/",children:"#BlackMoto.GE"})}),o("div",{className:"md:hidden",children:o("button",{className:"nav-btn",onClick:()=>s(!e),children:o(V,{})})}),o("div",{className:"hidden md:block",children:o(C,{navigate:n})}),e&&o("div",{className:"absolute bg-black left-1/2 sm:left-[initial] sm:right-0 sm:transform-none transform -translate-x-1/2 p-4 md:hidden",style:{top:l.height},children:o(C,{navigate:n})})]})})]})},se="sergi.jajanidze@gmail.com,mixo.ushba@gmail.com".split(","),ie=()=>{const{setUser:n,setItems:e,lang:s}=L();u.useEffect(()=>{const c=$(N,t=>{const i=t==null?void 0:t.email;if(i&&!se.includes(i)){G(N),Y.error("You have no access");return}t?(n(t),Q(t)):n(void 0)}),m=W(q("motos")),f=F(m,t=>{const i=[];t.forEach(d=>i.push(d.data())),e(i)});return()=>{c(),f()}},[]);const r=s==="ge"?"font-ge":"font-ru",{t:l}=x();return h("div",{className:`app-wrapper ${r}`,children:[o(ne,{}),h("div",{className:"container",children:[o("img",{className:"app-bg",alt:"",src:"/assets/hero.svg"}),o("div",{className:"mt-8",children:o(U,{})}),o("footer",{className:"mt-auto pb-8",children:h("div",{className:"footer",children:["Â© ",new Date().getFullYear(),", ",l("terms.copyright")]})})]})]})};export{ie as default};
