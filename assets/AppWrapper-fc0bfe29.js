import{r as u,u as j,j as c,a as m,L as D,b as I,O as U,Q as W}from"./index-6b5d9ab7.js";import{o as Y,d as q,c as F,a as Q,s as X,b as _,e as z}from"./dbMethods-e86c18f5.js";import{B as $,H as G,U as J,C as K}from"./index-a2935e6a.js";function g(t,e,o){var n,l,s,i,f;e==null&&(e=100);function r(){var d=Date.now()-i;d<e&&d>=0?n=setTimeout(r,e-d):(n=null,o||(f=t.apply(s,l),s=l=null))}var h=function(){s=this,l=arguments,i=Date.now();var d=o&&!n;return n||(n=setTimeout(r,e)),d&&(f=t.apply(s,l),s=l=null),f};return h.clear=function(){n&&(clearTimeout(n),n=null)},h.flush=function(){n&&(f=t.apply(s,l),s=l=null,clearTimeout(n),n=null)},h}g.debounce=g;var C=g;function P(t){let{debounce:e,scroll:o,polyfill:n,offsetSize:l}=t===void 0?{debounce:0,scroll:!1,offsetSize:!1}:t;const s=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[i,f]=u.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),r=u.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:i}),h=e?typeof e=="number"?e:e.scroll:null,d=e?typeof e=="number"?e:e.resize:null,p=u.useRef(!1);u.useEffect(()=>(p.current=!0,()=>void(p.current=!1)));const[O,x,v]=u.useMemo(()=>{const a=()=>{if(!r.current.element)return;const{left:S,top:k,width:B,height:R,bottom:M,right:T,x:A,y:H}=r.current.element.getBoundingClientRect(),b={left:S,top:k,width:B,height:R,bottom:M,right:T,x:A,y:H};r.current.element instanceof HTMLElement&&l&&(b.height=r.current.element.offsetHeight,b.width=r.current.element.offsetWidth),Object.freeze(b),p.current&&!te(r.current.lastBounds,b)&&f(r.current.lastBounds=b)};return[a,d?C(a,d):a,h?C(a,h):a]},[f,l,h,d]);function w(){r.current.scrollContainers&&(r.current.scrollContainers.forEach(a=>a.removeEventListener("scroll",v,!0)),r.current.scrollContainers=null),r.current.resizeObserver&&(r.current.resizeObserver.disconnect(),r.current.resizeObserver=null)}function E(){r.current.element&&(r.current.resizeObserver=new s(v),r.current.resizeObserver.observe(r.current.element),o&&r.current.scrollContainers&&r.current.scrollContainers.forEach(a=>a.addEventListener("scroll",v,{capture:!0,passive:!0})))}const L=a=>{!a||a===r.current.element||(w(),r.current.element=a,r.current.scrollContainers=N(a),E())};return Z(v,!!o),V(x),u.useEffect(()=>{w(),E()},[o,v,x]),u.useEffect(()=>w,[]),[L,i,O]}function V(t){u.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function Z(t,e){u.useEffect(()=>{if(e){const o=t;return window.addEventListener("scroll",o,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",o,!0)}},[t,e])}function N(t){const e=[];if(!t||t===document.body)return e;const{overflow:o,overflowX:n,overflowY:l}=window.getComputedStyle(t);return[o,n,l].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,...N(t.parentElement)]}const ee=["x","y","top","bottom","left","right","width","height"],te=(t,e)=>ee.every(o=>t[o]===e[o]),y=({navigate:t})=>m("div",{className:"flex gap-2 flex-col md:flex-row",children:[m("button",{className:"nav-btn",onClick:()=>t("/"),children:[c(G,{}),"Home"]}),m("button",{className:"nav-btn",onClick:()=>t("/admin"),children:[c(J,{}),"Admin"]}),m("button",{className:"nav-btn",children:[c(K,{})," WhatsApp"]})]}),re=()=>{const t=j(),[e,o]=u.useState(!1),[n,l]=P(),[s,i]=u.useState("static"),f=r=>{window.scrollY>=l.height?i("fixed"):i("static")};return u.useEffect(()=>(window.addEventListener("scroll",f),()=>{window.removeEventListener("scroll",f)}),[]),c("header",{ref:n,className:`${s} top-0 w-full bg-black bg-opacity-90 z-50`,children:c("div",{className:"max-w-screen-xl px-8 mx-auto",children:m("div",{className:"flex flex-col gap-4 items-center py-8 sm:flex-row sm:justify-between relative",children:[c("h2",{className:"text-3xl md:text-4xl font-black",children:c(D,{to:"/",children:"#Moto Rent"})}),c("div",{className:"md:hidden",children:m("button",{className:"nav-btn",onClick:()=>o(!e),children:[c($,{}),"Menu"]})}),c("div",{className:"hidden md:block",children:c(y,{navigate:t})}),e&&c("div",{className:"absolute bg-black left-1/2 sm:left-[initial] sm:right-0 sm:transform-none transform -translate-x-1/2 p-4 md:hidden",style:{top:l.height},children:c(y,{navigate:t})})]})})})},se="sergi.jajanidze@gmail.com,mixo.ushba@gmail.com".split(","),ae=()=>{const{setUser:t,setItems:e}=I();return u.useEffect(()=>{const o=Y(z,s=>{const i=s==null?void 0:s.email;if(i&&!se.includes(i)){X(z),W.error("You have no access");return}s?(t(s),_(s)):t(void 0)}),n=q(F("motos")),l=Q(n,s=>{const i=[];s.forEach(f=>i.push(f.data())),e(i)});return()=>{o(),l()}},[]),m("div",{className:"app-wrapper",children:[c(re,{}),m("div",{className:"container",children:[c("img",{className:"app-bg",alt:"",src:"/assets/hero.svg"}),c(U,{}),c("footer",{className:"mt-auto pb-8",children:m("div",{className:"footer",children:["Â© ",new Date().getFullYear(),", All rights reserved"]})})]})]})};export{ae as default};
