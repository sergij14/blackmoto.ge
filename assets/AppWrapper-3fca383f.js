import{r as d,u as x,j as r,F,a as g,b as S,L as M,O as U,Q as Y}from"./index-d7ed42ad.js";import{o as $,d as q,c as W,a as G,s as P,b as Q,e as z}from"./dbMethods-ae916eca.js";import{B as X,L as J}from"./index-7d893c99.js";import{u as C}from"./index-e087825f.js";import{S as K}from"./Socials-3ed45cd2.js";function E(n,e,c){var s,o,l,m,a;e==null&&(e=100);function t(){var i=Date.now()-m;i<e&&i>=0?s=setTimeout(t,e-i):(s=null,c||(a=n.apply(l,o),l=o=null))}var u=function(){l=this,o=arguments,m=Date.now();var i=c&&!s;return s||(s=setTimeout(t,e)),i&&(a=n.apply(l,o),l=o=null),a};return u.clear=function(){s&&(clearTimeout(s),s=null)},u.flush=function(){s&&(a=n.apply(l,o),l=o=null,clearTimeout(s),s=null)},u}E.debounce=E;var L=E;function V(n){let{debounce:e,scroll:c,polyfill:s,offsetSize:o}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const l=s||(typeof window>"u"?class{}:window.ResizeObserver);if(!l)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[m,a]=d.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),t=d.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:m}),u=e?typeof e=="number"?e:e.scroll:null,i=e?typeof e=="number"?e:e.resize:null,h=d.useRef(!1);d.useEffect(()=>(h.current=!0,()=>void(h.current=!1)));const[b,v,p]=d.useMemo(()=>{const f=()=>{if(!t.current.element)return;const{left:T,top:j,width:H,height:B,bottom:D,right:I,x:A,y:_}=t.current.element.getBoundingClientRect(),y={left:T,top:j,width:H,height:B,bottom:D,right:I,x:A,y:_};t.current.element instanceof HTMLElement&&o&&(y.height=t.current.element.offsetHeight,y.width=t.current.element.offsetWidth),Object.freeze(y),h.current&&!ne(t.current.lastBounds,y)&&a(t.current.lastBounds=y)};return[f,i?L(f,i):f,u?L(f,u):f]},[a,o,u,i]);function w(){t.current.scrollContainers&&(t.current.scrollContainers.forEach(f=>f.removeEventListener("scroll",p,!0)),t.current.scrollContainers=null),t.current.resizeObserver&&(t.current.resizeObserver.disconnect(),t.current.resizeObserver=null)}function N(){t.current.element&&(t.current.resizeObserver=new l(p),t.current.resizeObserver.observe(t.current.element),c&&t.current.scrollContainers&&t.current.scrollContainers.forEach(f=>f.addEventListener("scroll",p,{capture:!0,passive:!0})))}const R=f=>{!f||f===t.current.element||(w(),t.current.element=f,t.current.scrollContainers=O(f),N())};return ee(p,!!c),Z(v),d.useEffect(()=>{w(),N()},[c,p,v]),d.useEffect(()=>w,[]),[R,m,b]}function Z(n){d.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function ee(n,e){d.useEffect(()=>{if(e){const c=n;return window.addEventListener("scroll",c,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",c,!0)}},[n,e])}function O(n){const e=[];if(!n||n===document.body)return e;const{overflow:c,overflowX:s,overflowY:o}=window.getComputedStyle(n);return[c,s,o].some(l=>l==="auto"||l==="scroll")&&e.push(n),[...e,...O(n.parentElement)]}const te=["x","y","top","bottom","left","right","width","height"],ne=(n,e)=>te.every(c=>n[c]===e[c]),se=[{label:"RU",code:"ru"}],re=({btnCn:n})=>{const{setLang:e,lang:c}=x();return r(F,{children:se.map(({code:s,label:o})=>g("button",{onClick:()=>e(s),className:n,children:[r("img",{className:"w-5",src:`/assets/${s}.svg`}),o]},s))})},k=({navigate:n,isBurgerMenu:e})=>{const[c,s]=d.useState(!1),{t:o}=C(),{headerHeight:l}=x(),m=d.useRef(null),a=h=>{const b=document.getElementById("section_"+h);if(b&&l){const v=b.offsetTop;window.scrollTo({top:v-(l+120),behavior:"smooth"})}b||n("/")},t=h=>{var w;const b=(w=m.current)==null?void 0:w.contains(h.target),v=document.querySelector('[data-menu-trigger="true"]'),p=v==null?void 0:v.contains(h.target);p&&(s==null||s(!0)),!p&&!b&&(s==null||s(!1))};d.useEffect(()=>(e&&document.addEventListener("click",t),()=>{document.removeEventListener("click",t)}),[e]);const u=e?{display:c?"flex":"none",padding:"1rem"}:{},i=e?"btn-secondary":"btn";return r("div",{ref:m,className:`vertical-nav-inner ${!e&&"bg-transparent"}`,style:{...u},children:g("div",{className:"flex gap-4 flex-col lg:flex-row lg:items-start",children:[r("button",{onClick:()=>a("about"),className:i,children:o("nav.menu_1")}),r("button",{onClick:()=>a("motopark"),className:i,children:o("nav.menu_2")}),r("button",{onClick:()=>a("terms"),className:i,children:o("nav.menu_3").split(" ")[0]}),r("button",{onClick:()=>a("contact"),className:i,children:o("nav.menu_4")}),r(re,{btnCn:i})]})})},oe=()=>{const n=S(),{setHeaderHeight:e,headerHeight:c}=x(),[s,o]=V(),[l,m]=d.useState("static"),a=u=>{window.scrollY>=o.height?m("sm:fixed"):m("static")};d.useEffect(()=>(e(o.height),window.addEventListener("scroll",a),()=>{window.removeEventListener("scroll",a)}),[o.height]),C();const t=d.useMemo(()=>c!==void 0&&c>200?{justifyContent:"center"}:{},[c]);return r("header",{ref:s,className:`${l} top-0 w-full shadow-lg z-50 border-b-4 border-primary border-opacity-10`,style:{background:"url(../assets/back.jpg)"},children:r("div",{className:"max-w-screen-xl px-8 mx-auto",children:g("div",{style:{...t},className:"flex gap-6 items-center flex-wrap py-8 relative justify-between",children:[r("h2",{className:"text-3xl text-primary",children:r(M,{to:"/",children:r("img",{className:"w-32",src:"/assets/logo.png",alt:"BlackMoto.GE"})})}),r("div",{"data-menu-trigger":"true",className:"lg:hidden",children:r("button",{className:"btn",children:r(X,{})})}),r("div",{className:"hidden lg:block",children:r(k,{navigate:n})}),r("div",{className:"vertical-nav",style:{top:o.height+20},children:r(k,{isBurgerMenu:!0,navigate:n})})]})})})},ce=()=>{const{t:n}=C(),e=S();return r("footer",{className:"mt-auto py-8 container",children:r("div",{className:"footer",children:g("div",{className:"text-lg md:text-xl p-10 text-center flex flex-col gap-4 items-center justify-center sm:flex-row sm:justify-between",children:[g("div",{className:"flex flex-col items-center sm:items-start",children:[g("p",{children:["Â© ",new Date().getFullYear(),", ",n("terms.copyright")]}),r(K,{showMob:!1,direction:"row"})]}),g("button",{onClick:()=>e("/admin"),className:"btn",children:[r(J,{width:20}),"Admin"]})]})})})},le="sergi.jajanidze@gmail.com,mixo.ushba@gmail.com".split(","),he=()=>{const{setUser:n,setItems:e,lang:c,headerHeight:s}=x();return d.useEffect(()=>{const l=$(z,t=>{const u=t==null?void 0:t.email;if(u&&!le.includes(u)){P(z),Y.error("You have no access");return}t?(n(t),Q(t)):n(void 0)}),m=q(W("motos")),a=G(m,t=>{const u=[];t.forEach(i=>u.push(i.data())),e(u)});return()=>{l(),a()}},[]),g("div",{className:`app-wrapper ${c==="ge"?"font-ge":"font-ru"}`,children:[r(oe,{}),r("div",{className:"mt-8 container",children:r(U,{})}),r(ce,{})]})};export{he as default};
