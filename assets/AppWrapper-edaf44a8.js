import{r as u,j as f,a as l,u as z,b as D,L as I,O as U,Q as W}from"./index-0f3ed85d.js";import{o as Y,d as $,c as q,a as F,s as G,b as Q,e as N}from"./dbMethods-1863211a.js";import{H as X,U as _,C as J,B as K}from"./index-7da027d8.js";function w(t,e,n){var o,c,r,i,d;e==null&&(e=100);function s(){var m=Date.now()-i;m<e&&m>=0?o=setTimeout(s,e-m):(o=null,n||(d=t.apply(r,c),r=c=null))}var h=function(){r=this,c=arguments,i=Date.now();var m=n&&!o;return o||(o=setTimeout(s,e)),m&&(d=t.apply(r,c),r=c=null),d};return h.clear=function(){o&&(clearTimeout(o),o=null)},h.flush=function(){o&&(d=t.apply(r,c),r=c=null,clearTimeout(o),o=null)},h}w.debounce=w;var y=w;function P(t){let{debounce:e,scroll:n,polyfill:o,offsetSize:c}=t===void 0?{debounce:0,scroll:!1,offsetSize:!1}:t;const r=o||(typeof window>"u"?class{}:window.ResizeObserver);if(!r)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[i,d]=u.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),s=u.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:i}),h=e?typeof e=="number"?e:e.scroll:null,m=e?typeof e=="number"?e:e.resize:null,p=u.useRef(!1);u.useEffect(()=>(p.current=!0,()=>void(p.current=!1)));const[O,x,v]=u.useMemo(()=>{const a=()=>{if(!s.current.element)return;const{left:k,top:R,width:B,height:M,bottom:T,right:A,x:H,y:j}=s.current.element.getBoundingClientRect(),b={left:k,top:R,width:B,height:M,bottom:T,right:A,x:H,y:j};s.current.element instanceof HTMLElement&&c&&(b.height=s.current.element.offsetHeight,b.width=s.current.element.offsetWidth),Object.freeze(b),p.current&&!te(s.current.lastBounds,b)&&d(s.current.lastBounds=b)};return[a,m?y(a,m):a,h?y(a,h):a]},[d,c,h,m]);function g(){s.current.scrollContainers&&(s.current.scrollContainers.forEach(a=>a.removeEventListener("scroll",v,!0)),s.current.scrollContainers=null),s.current.resizeObserver&&(s.current.resizeObserver.disconnect(),s.current.resizeObserver=null)}function E(){s.current.element&&(s.current.resizeObserver=new r(v),s.current.resizeObserver.observe(s.current.element),n&&s.current.scrollContainers&&s.current.scrollContainers.forEach(a=>a.addEventListener("scroll",v,{capture:!0,passive:!0})))}const S=a=>{!a||a===s.current.element||(g(),s.current.element=a,s.current.scrollContainers=L(a),E())};return Z(v,!!n),V(x),u.useEffect(()=>{g(),E()},[n,v,x]),u.useEffect(()=>g,[]),[S,i,O]}function V(t){u.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function Z(t,e){u.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function L(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:o,overflowY:c}=window.getComputedStyle(t);return[n,o,c].some(r=>r==="auto"||r==="scroll")&&e.push(t),[...e,...L(t.parentElement)]}const ee=["x","y","top","bottom","left","right","width","height"],te=(t,e)=>ee.every(n=>t[n]===e[n]),C=({navigate:t})=>f("div",{className:"flex gap-2 flex-col md:flex-row",children:[f("button",{className:"nav-btn",onClick:()=>t("/"),children:[l(X,{}),"Home"]}),f("button",{className:"nav-btn",onClick:()=>t("/admin"),children:[l(_,{}),"Admin"]}),f("button",{className:"nav-btn",children:[l(J,{})," WhatsApp"]})]}),se=[{label:"GE",code:"ge"},{label:"RU",code:"ru"}],re=()=>{const{setLang:t,lang:e}=z();return l("div",{className:"fixed bottom-0 m-8 left-0",children:l("div",{className:"flex gap-2 items-center",children:se.map(({code:n,label:o})=>f("button",{onClick:()=>t(n),className:`nav-btn px-3 py-2 gap-2 bg-opacity-100 ${n===e?"opacity-100":"opacity-70"}`,children:[l("img",{className:"w-5",src:`/assets/${n}.svg`}),o]},n))})})},ne=()=>{const t=D(),[e,n]=u.useState(!1),[o,c]=P(),[r,i]=u.useState("static"),d=s=>{window.scrollY>=c.height?i("fixed"):i("static")};return u.useEffect(()=>(window.addEventListener("scroll",d),()=>{window.removeEventListener("scroll",d)}),[c.height]),f("header",{ref:o,className:`${r} top-0 w-full bg-black bg-opacity-90 z-50`,children:[l(re,{}),l("div",{className:"max-w-screen-xl px-8 mx-auto",children:f("div",{className:"flex flex-col gap-4 items-center py-8 sm:flex-row sm:justify-between relative",children:[l("h2",{className:"text-3xl md:text-4xl font-black",children:l(I,{to:"/",children:"#Moto Rent"})}),l("div",{className:"md:hidden",children:f("button",{className:"nav-btn",onClick:()=>n(!e),children:[l(K,{}),"Menu"]})}),l("div",{className:"hidden md:block",children:l(C,{navigate:t})}),e&&l("div",{className:"absolute bg-black left-1/2 sm:left-[initial] sm:right-0 sm:transform-none transform -translate-x-1/2 p-4 md:hidden",style:{top:c.height},children:l(C,{navigate:t})})]})})]})},oe="sergi.jajanidze@gmail.com,mixo.ushba@gmail.com".split(","),ue=()=>{const{setUser:t,setItems:e}=z();return u.useEffect(()=>{const n=Y(N,r=>{const i=r==null?void 0:r.email;if(i&&!oe.includes(i)){G(N),W.error("You have no access");return}r?(t(r),Q(r)):t(void 0)}),o=$(q("motos")),c=F(o,r=>{const i=[];r.forEach(d=>i.push(d.data())),e(i)});return()=>{n(),c()}},[]),f("div",{className:"app-wrapper",children:[l(ne,{}),f("div",{className:"container",children:[l("img",{className:"app-bg",alt:"",src:"/assets/hero.svg"}),l("div",{className:"mt-8",children:l(U,{})}),l("footer",{className:"mt-auto pb-8",children:f("div",{className:"footer",children:["Â© ",new Date().getFullYear(),", All rights reserved"]})})]})]})};export{ue as default};
