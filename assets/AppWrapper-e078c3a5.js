import{Q as l,u as g,a as b,b as m,j as a,F as i,c as e,L as x,r as v,O as N}from"./index-ab32eabe.js";import{s as w,a as o,p as A,b as d,o as I,d as C,c as S,e as j,f as y}from"./dbMethods-7e8ae2ca.js";import{H as L,U as O,C as U,A as k,a as E}from"./index-62a657ac.js";const R=async()=>{try{await w(o,A)}catch(s){l.error(s.message)}},H=async s=>{try{await d(o),s("/")}catch(c){l.error(c.message)}},D=()=>{const s=g(),{pathname:c}=b(),{user:n}=m();return a(i,{children:[a("header",{className:"flex flex-col gap-4 items-center py-8 md:flex-row md:justify-between",children:[e("h2",{className:"text-3xl md:text-4xl font-black",children:e(x,{to:"/",children:"#Moto Rent"})}),a("nav",{className:"flex gap-2 flex-col items-center justify-center sm:flex-row flex-wrap",children:[a("button",{className:"nav-btn",onClick:()=>s("/"),children:[e(L,{}),"Home"]}),a("button",{className:"nav-btn",onClick:()=>s("/admin"),children:[e(O,{}),"Admin"]}),a("button",{className:"nav-btn",children:[e(U,{})," WhatsApp"]})]})]}),c.slice(1)==="admin"&&e(i,{children:n?a("div",{className:"flex flex-col gap-4 items-center pb-8 md:flex-row md:justify-between",children:[a("div",{className:"flex gap-2 items-center",children:[n.photoURL&&e("img",{src:n.photoURL,className:"w-8 rounded-full"}),n.email]}),a("button",{className:"nav-btn",onClick:()=>H(s),children:[e(k,{})," Sign Out"]})]}):a("button",{className:"nav-btn w-max",onClick:R,children:[e(E,{})," Sign In"]})})]})},h="sergio.jajanidze@gmail.com,sergi@gmail.com".split(",");console.log(h);const Y=()=>{const{setUser:s,setItems:c}=m();return v.useEffect(()=>{const n=I(o,t=>{const r=t==null?void 0:t.email;if(r&&!h.includes(r)){d(o),l.error("You have no access");return}t?(s(t),y(t)):s(void 0)}),u=C(S("motos")),p=j(u,t=>{const r=[];t.forEach(f=>r.push(f.data())),c(r)});return()=>{n(),p()}},[]),a("div",{className:"app-wrapper",children:[e("img",{className:"app-bg",alt:"",src:"/rent-moto/assets/hero.svg"}),e(D,{}),e(N,{}),e("footer",{className:"mt-auto pb-8",children:a("div",{className:"footer",children:["Â© ",new Date().getFullYear(),", All rights reserved"]})})]})};export{Y as default};
